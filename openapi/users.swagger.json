{
  "swagger": "2.0",
  "info": {
    "title": "users.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "Users"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/admin/{actor}/users/approve-user": {
      "put": {
        "operationId": "Users_ApproveUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcApproveUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "actor",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersApproveUserBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{actor}/users/{userId}/reject-user": {
      "put": {
        "operationId": "Users_RejectUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcRejectUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "actor",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersRejectUserBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{adminUserId}/users/get-admin-users-stats": {
      "get": {
        "operationId": "Users_GetAdminUsersStats",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcGetAdminUsersStatsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "adminUserId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "startDate",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "endDate",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{adminUserId}/users/grant-admin": {
      "post": {
        "operationId": "Users_GrantAdmin",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcGrantAdminResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "adminUserId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersGrantAdminBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{adminUserId}/users/list-user-logs": {
      "get": {
        "operationId": "Users_ListUserLogs",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcListUserLogsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "adminUserId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "startKey",
            "description": "Key for pagination, indicating where to start the list",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "count",
            "description": "Number of mutations to retrieve",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "actions",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "multi"
          },
          {
            "name": "startDate",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "endDate",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{adminUserId}/users/list-users": {
      "get": {
        "operationId": "Users_ListUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcListUsersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "adminUserId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "startKey",
            "description": "Key for pagination, indicating where to start the list",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "count",
            "description": "Number of users to retrieve",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "status",
            "description": "keyword filter for users (mostly based on status)\n\n - USER_STATUS_CREATED: The user has created their profile. The user is still able to update their\nprofile. All users start in this status.\n - USER_STATUS_APPROVAL_REQUESTED: The user has completed their profile and can no longer edit their profile.\nThe profile is awaiting approval by the admin. The status must be CREATED\nto enter this state.\n - USER_STATUS_APPROVED: The user has been approved by the admin. The user can now make transfers.\nThe status must be APPROVAL_REQUESTED or REJECTED to enter this status.\n - USER_STATUS_REJECTED: The user has been rejected by the admin. The user cannot make transfers.\nThe status must be APPROVAL_REQUESTED OR APPROVED to enter this state.\n - USER_STATUS_NEEDS_MANUAL_REVIEW: The user could not be automatically approve by the system.",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "USER_STATUS_UNSPECIFIED",
              "USER_STATUS_CREATED",
              "USER_STATUS_APPROVAL_REQUESTED",
              "USER_STATUS_APPROVED",
              "USER_STATUS_REJECTED",
              "USER_STATUS_NEEDS_MANUAL_REVIEW"
            ],
            "default": "USER_STATUS_UNSPECIFIED"
          },
          {
            "name": "search",
            "description": "keyword search for the users (could be name, or email)",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "includedRoles",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "USER_ROLE_UNSPECIFIED",
                "USER_ROLE_USER",
                "USER_ROLE_ADMIN"
              ]
            },
            "collectionFormat": "multi"
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{adminUserId}/users/{userId}/get-user": {
      "get": {
        "operationId": "Users_GetUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcGetUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "adminUserId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{senderUserId}/users/{receiverUserId}/send-user-notification": {
      "post": {
        "operationId": "Users_SendUserNotification",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcSendUserNotificationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "senderUserId",
            "description": "This can be either a user_id or a system process name.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "receiverUserId",
            "description": "The user_id of the user to send the notification to.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersSendUserNotificationBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{userId}/webpush/send_push_message": {
      "post": {
        "operationId": "Users_SendWebPushNotification",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcSendWebPushResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersSendWebPushNotificationBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{userId}/webpush/subscribe": {
      "post": {
        "operationId": "Users_SubscribeToWebPush",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcSubscribeToWebPushResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersSubscribeToWebPushBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/admin/{userId}/webpush/unsubscribe": {
      "post": {
        "operationId": "Users_UnsubscribeFromWebPush",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcUnsubsribeFromWebPushResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersUnsubscribeFromWebPushBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/revoke-refresh-token": {
      "post": {
        "operationId": "Users_RevokeRefreshToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcRevokeRefreshTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcRevokeRefreshTokenRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/authenticate": {
      "post": {
        "operationId": "Users_Authenticate",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcAuthenticateResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcAuthenticateRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/change-password": {
      "post": {
        "operationId": "Users_ChangePassword",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcChangePasswordResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcChangePasswordRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/health-check": {
      "get": {
        "operationId": "Users_HealthCheck",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcHealthCheckResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/last-otp-for-factor": {
      "get": {
        "operationId": "Users_LastOtpForFactor",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcLastOtpForFactorResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "factor",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/refresh-access-token": {
      "post": {
        "operationId": "Users_RefreshAccessToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcRefreshAccessTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcRefreshAccessTokenRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/send-email-otp": {
      "post": {
        "operationId": "Users_SendEmailOtp",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcSendEmailOtpResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcSendEmailOtpRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/send-signup-sms-otp": {
      "post": {
        "operationId": "Users_SendSignupSmsOtp",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcSendSignUpSmsOtpResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcSendSignupSmsOtpRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/send-sms-otp": {
      "post": {
        "operationId": "Users_SendSmsOtp",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcSendSmsOtpResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcSendSmsOtpRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/signup": {
      "post": {
        "operationId": "Users_Signup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcSignupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcSignupRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/public/users/verify-otp": {
      "post": {
        "operationId": "Users_VerifyOtp",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcVerifyOtpResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/usersgrpcVerifyOtpRequest"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}": {
      "get": {
        "operationId": "Users_GetUserByID",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcGetUserByIDResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "description": "ID of the user to fetch",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}/list-user-notifications": {
      "get": {
        "operationId": "Users_ListUserNotifications",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcListUserNotificationsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "startKey",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "count",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "read",
            "in": "query",
            "required": false,
            "type": "boolean"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}/mark-multiple-notifications-as-read": {
      "put": {
        "operationId": "Users_MarkMultipleNotificationsAsRead",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcMarkMultipleNotificationsAsReadResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersMarkMultipleNotificationsAsReadBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}/mark-notification-as-read": {
      "get": {
        "operationId": "Users_MarkNotificationAsRead",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcMarkNotificationAsReadResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "notificationId",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}/refresh-sumsub-token": {
      "post": {
        "operationId": "Users_RefreshSumsubToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcRefreshSumsubTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersRefreshSumsubTokenBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}/request-approval": {
      "put": {
        "operationId": "Users_RequestApproval",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcRequestApprovalResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "description": "Id of the user requesting approval",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersRequestApprovalBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}/store-expo-push-token": {
      "post": {
        "operationId": "Users_StoreExpoPushToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcStoreExpoPushTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersStoreExpoPushTokenBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}/update-registration-data": {
      "post": {
        "operationId": "Users_UpdateRegistrationData",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcUpdateRegistrationDataResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersUpdateRegistrationDataBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/v1/users/{userId}/verify-email": {
      "post": {
        "operationId": "Users_VerifyEmail",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/usersgrpcVerifyEmailResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UsersVerifyEmailBody"
            }
          }
        ],
        "tags": [
          "Users"
        ]
      }
    }
  },
  "definitions": {
    "UsersApproveUserBody": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "reason": {
          "type": "string"
        },
        "metadata": {
          "type": "object"
        },
        "applicantId": {
          "type": "string"
        }
      }
    },
    "UsersGrantAdminBody": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        }
      }
    },
    "UsersMarkMultipleNotificationsAsReadBody": {
      "type": "object",
      "properties": {
        "notificationIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "UsersRefreshSumsubTokenBody": {
      "type": "object",
      "properties": {
        "kycLevelName": {
          "$ref": "#/definitions/usersgrpcKycLevelName"
        }
      }
    },
    "UsersRejectUserBody": {
      "type": "object",
      "properties": {
        "reason": {
          "type": "string"
        },
        "metadata": {
          "type": "object"
        },
        "applicantId": {
          "type": "string"
        }
      }
    },
    "UsersRequestApprovalBody": {
      "type": "object",
      "properties": {
        "kycLevelName": {
          "$ref": "#/definitions/usersgrpcKycLevelName"
        }
      },
      "title": "Request message for RequestApproval"
    },
    "UsersSendUserNotificationBody": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "description": "The title of the notification."
        },
        "message": {
          "type": "string",
          "description": "The content of the notification."
        },
        "transferId": {
          "type": "string",
          "description": "An optional transfer_id to include in the notification. Include this if the\nnotification is in regards to a specific transfer."
        },
        "variant": {
          "$ref": "#/definitions/usersgrpcNotificationVariant",
          "description": "The variant of the notification. This can be used to categorize the\nnotification (e.g., success, failure, pending, etc.)."
        },
        "subjectUserId": {
          "type": "string",
          "description": "The subject_user_id is the optional field in the case of an auto-generated\nnotification where-in the sender_user_id is the system, the\nreceiver_user_id is the admin. This becomes the user role user's actual id\nin the case of notifications about changes in the user's status. It is an\noptional field."
        }
      }
    },
    "UsersSendWebPushNotificationBody": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string"
        },
        "subtitle": {
          "type": "string"
        },
        "body": {
          "type": "string"
        },
        "url": {
          "type": "string"
        }
      }
    },
    "UsersStoreExpoPushTokenBody": {
      "type": "object",
      "properties": {
        "expoPushToken": {
          "type": "string"
        }
      }
    },
    "UsersSubscribeToWebPushBody": {
      "type": "object",
      "properties": {
        "endpoint": {
          "type": "string"
        },
        "p256dhKey": {
          "type": "string"
        },
        "authKey": {
          "type": "string"
        },
        "browserId": {
          "type": "string"
        }
      }
    },
    "UsersUnsubscribeFromWebPushBody": {
      "type": "object"
    },
    "UsersUpdateRegistrationDataBody": {
      "type": "object",
      "properties": {
        "givenName": {
          "type": "string"
        },
        "surname": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "residenceCountryIsoCode": {
          "type": "string"
        },
        "dateOfBirth": {
          "type": "string",
          "format": "date-time"
        },
        "identityDocument": {
          "$ref": "#/definitions/usersgrpcIdentityDocument"
        },
        "profileImage": {
          "type": "string"
        }
      },
      "title": "Request message for UpdateUser"
    },
    "UsersVerifyEmailBody": {
      "type": "object",
      "properties": {
        "emailFactor": {
          "$ref": "#/definitions/usersgrpcAuthFactor"
        }
      },
      "title": "Request message for VerifyEmail"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "protobufNullValue": {
      "type": "string",
      "enum": [
        "NULL_VALUE"
      ],
      "default": "NULL_VALUE",
      "description": "`NullValue` is a singleton enumeration to represent the null value for the\n`Value` type union.\n\n The JSON representation for `NullValue` is JSON `null`.\n\n - NULL_VALUE: Null value."
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "usersgrpcAdditionalFactor": {
      "type": "object",
      "properties": {
        "factorType": {
          "$ref": "#/definitions/usersgrpcFactorType"
        },
        "requestId": {
          "type": "string",
          "title": "ID for the additional factor request\"security_question\""
        },
        "factorHint": {
          "type": "string",
          "title": "Hint for the additional factor (e.g., last 4 digits of phone number)"
        }
      }
    },
    "usersgrpcApproveUserResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "usersgrpcAuthFactor": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/usersgrpcFactorType"
        },
        "id": {
          "type": "string",
          "title": "for OTPs this will be a request_id, for email_password this\nwill be the email address"
        },
        "secretValue": {
          "type": "string",
          "title": "Value of the factor (e.g., password or OTP)"
        }
      }
    },
    "usersgrpcAuthenticateRequest": {
      "type": "object",
      "properties": {
        "factors": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/usersgrpcAuthFactor"
          },
          "title": "A list of authentication factors provided by the client"
        }
      }
    },
    "usersgrpcAuthenticateResponse": {
      "type": "object",
      "properties": {
        "loginComplete": {
          "type": "boolean",
          "title": "Indicates if login is complete\nReturned if an additional factor is required"
        },
        "additionalFactor": {
          "$ref": "#/definitions/usersgrpcAdditionalFactor"
        },
        "tokens": {
          "$ref": "#/definitions/usersgrpcTokens",
          "title": "Access and refresh tokens returned if login is complete"
        },
        "userId": {
          "type": "string"
        }
      }
    },
    "usersgrpcChangePasswordRequest": {
      "type": "object",
      "properties": {
        "newPassword": {
          "type": "string"
        },
        "emailFactor": {
          "$ref": "#/definitions/usersgrpcAuthFactor"
        }
      },
      "title": "Request message for ChangePassword"
    },
    "usersgrpcChangePasswordResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      },
      "title": "Response message for ChangePassword"
    },
    "usersgrpcFactorType": {
      "type": "string",
      "enum": [
        "FACTOR_TYPE_UNSPECIFIED",
        "FACTOR_TYPE_EMAIL_PASSWORD",
        "FACTOR_TYPE_SMS_OTP",
        "FACTOR_TYPE_EMAIL_OTP"
      ],
      "default": "FACTOR_TYPE_UNSPECIFIED"
    },
    "usersgrpcGetAdminUsersStatsResponse": {
      "type": "object",
      "properties": {
        "totalUsers": {
          "type": "integer",
          "format": "int32",
          "title": "this is the total number of users created during that period of time"
        }
      }
    },
    "usersgrpcGetUserByIDResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/usersgrpcUser",
          "title": "User details"
        }
      },
      "title": "Response message for GetUserByID"
    },
    "usersgrpcGetUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/usersgrpcUser"
        }
      }
    },
    "usersgrpcGrantAdminResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "usersgrpcHealthCheckResponse": {
      "type": "object"
    },
    "usersgrpcIdentityDocument": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/usersgrpcIdentityDocumentType"
        },
        "issuingCountryIsoCode": {
          "type": "string"
        },
        "idNumber": {
          "type": "string"
        },
        "dateIssued": {
          "type": "string",
          "format": "date-time"
        },
        "expires": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "usersgrpcIdentityDocumentType": {
      "type": "string",
      "enum": [
        "IDENTITY_DOCUMENT_TYPE_UNSPECIFIED",
        "IDENTITY_DOCUMENT_TYPE_NATIONAL_ID_CARD",
        "IDENTITY_DOCUMENT_TYPE_PASSPORT",
        "IDENTITY_DOCUMENT_TYPE_DRIVERS_LICENSE"
      ],
      "default": "IDENTITY_DOCUMENT_TYPE_UNSPECIFIED"
    },
    "usersgrpcKycLevelName": {
      "type": "string",
      "enum": [
        "KycLevelName_UNSPECIFIED",
        "KycLevelName_ID_AND_LIVENESS",
        "KycLevelName_ID_ONLY"
      ],
      "default": "KycLevelName_UNSPECIFIED",
      "description": "KycLevelName is used to specify the level of KYC required for a user KYC\nverification. This level must correspond to a level manually configured in\nSumsub.\n\n - KycLevelName_ID_AND_LIVENESS: LevelName_ID_AND_LIVENESS is the level that requires the user to provide\na valid ID document and perform a liveness check.\n - KycLevelName_ID_ONLY: LevelName_ID_ONLY is the level that requires the user to provide ONLY\na valid ID document"
    },
    "usersgrpcLastOtpForFactorResponse": {
      "type": "object",
      "properties": {
        "otp": {
          "type": "string"
        }
      }
    },
    "usersgrpcListUserLogsResponse": {
      "type": "object",
      "properties": {
        "logs": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/usersgrpcUserAuditLog"
          }
        },
        "nextKey": {
          "type": "string"
        }
      }
    },
    "usersgrpcListUserNotificationsResponse": {
      "type": "object",
      "properties": {
        "notifications": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/usersgrpcNotification"
          }
        },
        "nextKey": {
          "type": "string"
        }
      }
    },
    "usersgrpcListUsersResponse": {
      "type": "object",
      "properties": {
        "users": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/usersgrpcUser"
          },
          "title": "List of all users"
        },
        "nextKey": {
          "type": "string",
          "title": "Key for the next set of results (for pagination)"
        }
      },
      "title": "Response message for ListAllUsers"
    },
    "usersgrpcMarkMultipleNotificationsAsReadResponse": {
      "type": "object"
    },
    "usersgrpcMarkNotificationAsReadResponse": {
      "type": "object"
    },
    "usersgrpcNeedsManualReviewResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "usersgrpcNotification": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "senderUserId": {
          "type": "string"
        },
        "receiverUserId": {
          "type": "string"
        },
        "transferId": {
          "type": "string"
        },
        "read": {
          "type": "boolean"
        },
        "variant": {
          "$ref": "#/definitions/usersgrpcNotificationVariant"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "notificationId": {
          "type": "string"
        },
        "subjectUserId": {
          "type": "string",
          "title": "user_id is an optional field that holds the regula user id"
        }
      }
    },
    "usersgrpcNotificationVariant": {
      "type": "string",
      "enum": [
        "NOTIFICATION_VARIANT_UNSPECIFIED",
        "NOTIFICATION_VARIANT_SUCCESS",
        "NOTIFICATION_VARIANT_FAILURE",
        "NOTIFICATION_VARIANT_PENDING",
        "NOTIFICATION_VARIANT_GENERAL"
      ],
      "default": "NOTIFICATION_VARIANT_UNSPECIFIED",
      "title": "- NOTIFICATION_VARIANT_SUCCESS: Notification for a successful transfer\n - NOTIFICATION_VARIANT_FAILURE: Notification for a failed transfer\n - NOTIFICATION_VARIANT_PENDING: Notification for a pending transfer\n - NOTIFICATION_VARIANT_GENERAL: General notification"
    },
    "usersgrpcOtpIntent": {
      "type": "string",
      "enum": [
        "OTP_INTENT_UNSPECIFIED",
        "OTP_INTENT_LOGIN",
        "OTP_INTENT_RESET_PASSWORD",
        "OTP_INTENT_VERIFY_EMAIL"
      ],
      "default": "OTP_INTENT_UNSPECIFIED",
      "title": "- OTP_INTENT_LOGIN: OTP for login\n - OTP_INTENT_RESET_PASSWORD: OTP for resetting password\n - OTP_INTENT_VERIFY_EMAIL: OTP for verifying email"
    },
    "usersgrpcRefreshAccessTokenRequest": {
      "type": "object",
      "properties": {
        "refreshToken": {
          "type": "string",
          "title": "The refresh token to validate and exchange for a new access token"
        }
      }
    },
    "usersgrpcRefreshAccessTokenResponse": {
      "type": "object",
      "properties": {
        "accessToken": {
          "type": "string",
          "title": "The newly generated access token"
        }
      }
    },
    "usersgrpcRefreshSumsubTokenResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      }
    },
    "usersgrpcRejectUserResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "usersgrpcRequestApprovalResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "title": "A message saying whether or not the approval request was successful"
        }
      },
      "title": "Response message for RequestApproval"
    },
    "usersgrpcRevokeRefreshTokenRequest": {
      "type": "object",
      "properties": {
        "refreshToken": {
          "type": "string"
        }
      },
      "title": "Request message for RevokeRefreshToken"
    },
    "usersgrpcRevokeRefreshTokenResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      },
      "title": "Response message for RevokeRefreshToken"
    },
    "usersgrpcSendEmailOtpRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "intent": {
          "$ref": "#/definitions/usersgrpcOtpIntent"
        }
      }
    },
    "usersgrpcSendEmailOtpResponse": {
      "type": "object",
      "properties": {
        "requestId": {
          "type": "string"
        }
      }
    },
    "usersgrpcSendSignUpSmsOtpResponse": {
      "type": "object",
      "properties": {
        "requestId": {
          "type": "string"
        }
      }
    },
    "usersgrpcSendSignupSmsOtpRequest": {
      "type": "object",
      "properties": {
        "phoneNumber": {
          "type": "string"
        },
        "region": {
          "type": "string"
        }
      }
    },
    "usersgrpcSendSmsOtpRequest": {
      "type": "object",
      "properties": {
        "phoneNumber": {
          "type": "string"
        },
        "intent": {
          "$ref": "#/definitions/usersgrpcOtpIntent"
        }
      }
    },
    "usersgrpcSendSmsOtpResponse": {
      "type": "object",
      "properties": {
        "requestId": {
          "type": "string"
        }
      }
    },
    "usersgrpcSendUserNotificationResponse": {
      "type": "object",
      "properties": {
        "notificationId": {
          "type": "string",
          "description": "The ID of the notification that was sent.\nThis can be used to track the notification or mark it as read."
        }
      }
    },
    "usersgrpcSendWebPushResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "usersgrpcSignupRequest": {
      "type": "object",
      "properties": {
        "phoneFactor": {
          "$ref": "#/definitions/usersgrpcAuthFactor"
        },
        "email": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "usersgrpcSignupResponse": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "tokens": {
          "$ref": "#/definitions/usersgrpcTokens"
        }
      }
    },
    "usersgrpcStoreExpoPushTokenResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "usersgrpcSubscribeToWebPushResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "usersgrpcTokens": {
      "type": "object",
      "properties": {
        "accessToken": {
          "type": "string",
          "title": "Token to access the API"
        },
        "refreshToken": {
          "type": "string",
          "title": "Token to refresh access when expired"
        }
      }
    },
    "usersgrpcUnsubsribeFromWebPushResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "usersgrpcUpdateRegistrationDataResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      },
      "title": "Response message for UpdateUser"
    },
    "usersgrpcUser": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string"
        },
        "status": {
          "$ref": "#/definitions/usersgrpcUserStatus"
        },
        "role": {
          "$ref": "#/definitions/usersgrpcUserRole"
        },
        "phone": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "identityDocument": {
          "$ref": "#/definitions/usersgrpcIdentityDocument"
        },
        "givenName": {
          "type": "string"
        },
        "surname": {
          "type": "string"
        },
        "residenceCountryIsoCode": {
          "type": "string"
        },
        "address": {
          "type": "string"
        },
        "dateOfBirth": {
          "type": "string",
          "format": "date-time",
          "title": "Using a timestamp for date"
        },
        "profileImage": {
          "type": "string"
        },
        "applicantId": {
          "type": "string"
        },
        "expoPushTokens": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "usersgrpcUserAuditLog": {
      "type": "object",
      "properties": {
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "actor": {
          "type": "string"
        },
        "action": {
          "type": "string"
        },
        "reason": {
          "type": "string"
        },
        "before": {
          "$ref": "#/definitions/usersgrpcUser"
        },
        "after": {
          "$ref": "#/definitions/usersgrpcUser"
        }
      }
    },
    "usersgrpcUserRole": {
      "type": "string",
      "enum": [
        "USER_ROLE_UNSPECIFIED",
        "USER_ROLE_USER",
        "USER_ROLE_ADMIN"
      ],
      "default": "USER_ROLE_UNSPECIFIED"
    },
    "usersgrpcUserStatus": {
      "type": "string",
      "enum": [
        "USER_STATUS_UNSPECIFIED",
        "USER_STATUS_CREATED",
        "USER_STATUS_APPROVAL_REQUESTED",
        "USER_STATUS_APPROVED",
        "USER_STATUS_REJECTED",
        "USER_STATUS_NEEDS_MANUAL_REVIEW"
      ],
      "default": "USER_STATUS_UNSPECIFIED",
      "description": " - USER_STATUS_CREATED: The user has created their profile. The user is still able to update their\nprofile. All users start in this status.\n - USER_STATUS_APPROVAL_REQUESTED: The user has completed their profile and can no longer edit their profile.\nThe profile is awaiting approval by the admin. The status must be CREATED\nto enter this state.\n - USER_STATUS_APPROVED: The user has been approved by the admin. The user can now make transfers.\nThe status must be APPROVAL_REQUESTED or REJECTED to enter this status.\n - USER_STATUS_REJECTED: The user has been rejected by the admin. The user cannot make transfers.\nThe status must be APPROVAL_REQUESTED OR APPROVED to enter this state.\n - USER_STATUS_NEEDS_MANUAL_REVIEW: The user could not be automatically approve by the system."
    },
    "usersgrpcVerifyEmailResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/usersgrpcUser"
        }
      },
      "title": "Response for VerifyEmail"
    },
    "usersgrpcVerifyOtpRequest": {
      "type": "object",
      "properties": {
        "authFactor": {
          "$ref": "#/definitions/usersgrpcAuthFactor"
        }
      }
    },
    "usersgrpcVerifyOtpResponse": {
      "type": "object",
      "properties": {
        "valid": {
          "type": "boolean",
          "title": "returns true if the otp matches the request, else returns false"
        }
      }
    }
  }
}
